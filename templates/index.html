<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Assistant GUI</title>
    <style>
        body { background-color: #343541; color: #fff; font-family: Arial, sans-serif; margin: 0; }
        .container { max-width: 800px; margin: auto; padding: 20px; }
        .messages { background-color: #202123; padding: 20px; border-radius: 8px; height: 70vh; overflow-y: auto; }
        .message { padding: 10px; margin: 10px 0; border-radius: 5px; }
        .user { background-color: #2b2d31; text-align: right; }
        .assistant { background-color: #444654; text-align: left; }
        .input-area { display: flex; margin-top: 10px; }
        input[type=text] { flex: 1; padding: 10px; border: none; border-radius: 5px; }
        button { margin-left: 10px; padding: 10px 20px; background: #19c37d; color: #fff; border: none; border-radius: 5px; cursor: pointer; }
    </style>
</head>
<body>
<div class="container">
    <div class="messages" id="messages"></div>
    <div class="input-area">
        <input type="text" id="user-input" placeholder="Type a message" autocomplete="off">
        <button onclick="send()">Send</button>
    </div>
</div>
<script>
function addMessage(text, cls){
    const div = document.createElement('div');
    div.className = 'message ' + cls;
    div.textContent = text;
    document.getElementById('messages').appendChild(div);
    div.scrollIntoView();
}
function send(){
    const input = document.getElementById('user-input');
    const msg = input.value.trim();
    if(!msg) return;
    addMessage(msg, 'user');
    input.value='';
    fetch('/chat', {
        method:'POST',
        headers:{'Content-Type':'application/json'},
        body: JSON.stringify({message: msg})
    }).then(r => r.json()).then(data => {
        addMessage(data.response, 'assistant');
    });
}
</script>
</body>
</html>
